<!DOCTYPE html>
<html lang="it-IT">

<head>
  <%- include("../partials/header.ejs") %>
</head>

<body>
  <div class="container-fluid position-relative d-flex p-0">
    <!-- Spinner Start -->
    <%- include("../partials/spinner.ejs") %>
      <!-- Spinner End -->


      <!-- Sidebar Start -->
      <%- include("../partials/sidebar.ejs") %>
        <!-- Sidebar End -->


        <!-- Content Start -->
        <div class="content">
          <!-- Navbar Start -->
          <%- include("../partials/navbar.ejs") %>
            <!-- Navbar End -->


            <form>
              <!-- Form Start -->
              <div class="container-fluid pt-4 px-4">
                <div class="row g-4">

                  <h1 class="mb-4">Generate Report</h1>

                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <div class="mb-3">
                        <label for="url" class="form-label">
                          <h2>URL</h2>
                        </label>
                        <input type="text" class="form-control" name="url" id="url" aria-describedby="url"
                          value="<%-url%>" readonly="readonly">
                        <div id="emailHelp" class="form-text">This is the target we are currently scanning
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h2 class="mb-4">HTML</h2>
                      <textarea name="html" id="txthtml" style="width: 100%" rows="10"></textarea>
                      <button type="button" class="btn btn-outline-info m-2" id="copyBtn" disabled><i
                          class="fa fa-copy"></i> Copy</button>
                      <button type="button" class="btn btn-outline-info m-2" id="downloadBtn" disabled><i
                          class="fa fa-download"></i> Download</button>
                      <button type="button" class="btn btn-outline-info m-2" id="viewBtn" disabled><i
                          class="fa fa-window-restore"></i> Open in new tab</button>
                      <script>
                        //copy button
                        document.getElementById("copyBtn").addEventListener('click', () => {
                          document.getElementById("txthtml").select()
                          document.execCommand('copy')
                        })
                        //download button
                        //open in new tab button
                      </script>

                      <!--<div class="row mb-3">
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
                        <div class="col-sm-10">
                          <input type="email" class="form-control" id="inputEmail3">
                        </div>
                      </div>
                      <div class="row mb-3">
                        <label for="inputPassword3" class="col-sm-2 col-form-label">Password</label>
                        <div class="col-sm-10">
                          <input type="password" class="form-control" id="inputPassword3">
                        </div>
                      </div>
                      <fieldset class="row mb-3">
                        <legend class="col-form-label col-sm-2 pt-0">Radios</legend>
                        <div class="col-sm-10">
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1"
                              value="option1" checked>
                            <label class="form-check-label" for="gridRadios1">
                              First radio
                            </label>
                          </div>
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2"
                              value="option2">
                            <label class="form-check-label" for="gridRadios2">
                              Second radio
                            </label>
                          </div>
                        </div>
                      </fieldset>
                      <div class="row mb-3">
                        <legend class="col-form-label col-sm-2 pt-0">Checkbox</legend>
                        <div class="col-sm-10">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="gridCheck1">
                            <label class="form-check-label" for="gridCheck1">
                              Check me out
                            </label>
                          </div>
                        </div>
                      </div>
                      <button type="submit" class="btn btn-primary">Sign in</button>-->

                    </div>
                  </div>

                  <!-- Position Start -->

                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">

                      <h1 class="mb-4">IP-API</h1>
                      <!-- Description List Start -->
                      <dl class="row mb-0">
                        <dt class="col-sm-3">Query</dt>
                        <dd class="col-sm-9" id="apiQuery"></dd>

                        <dt class="col-sm-3">Status</dt>
                        <dd class="col-sm-9" id="apiStatus">Definition for the term.</dd>

                        <dt class="col-sm-3">Country (CountryCode)</dt>
                        <dd class="col-sm-9">
                          <dl class="row">
                            <dt class="col-sm-4" id="apiCountry"></dt>
                            <dd class="col-sm-8" id="apiCountryCode"></dd>
                          </dl>
                        </dd>

                        <dt class="col-sm-3">Region</dt>
                        <dd class="col-sm-9" id="apiRegion"></dd>

                        <dt class="col-sm-3">Region Name</dt>
                        <dd class="col-sm-9" id="apiRegionName"></dd>

                        <dt class="col-sm-3">City</dt>
                        <dd class="col-sm-9" id="apiCity"></dd>

                        <dt class="col-sm-3">Zip</dt>
                        <dd class="col-sm-9" id="apiZip"></dd>

                        <dt class="col-sm-3">Lat</dt>
                        <dd class="col-sm-9" id="apiLat"></dd>

                        <dt class="col-sm-3">Lon</dt>
                        <dd class="col-sm-9" id="apiLon"></dd>

                        <dt class="col-sm-3">Timezone</dt>
                        <dd class="col-sm-9" id="apiTimezone"></dd>

                        <dt class="col-sm-3">ISP</dt>
                        <dd class="col-sm-9" id="apiIsp"></dd>

                        <dt class="col-sm-3">Org</dt>
                        <dd class="col-sm-9" id="apiOrg"></dd>

                        <dt class="col-sm-3">As</dt>
                        <dd class="col-sm-9" id="apiAs"></dd>
                      </dl>
                      <!-- Description List End -->

                    </div>
                  </div>
                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <iframe src="" class="position-relative rounded w-100 h-100" id="map" frameborder="0"
                        allowfullscreen="" aria-hidden="false" tabindex="0"
                        style="filter: grayscale(100%) invert(92%) contrast(83%); border: 0; min-height: 400px;"></iframe>
                    </div>
                  </div>
                  <script>
                    //ip-api
                    let url = new URL(document.getElementById('url').value);
                    let map = document.getElementById('map')
                    fetch('http://ip-api.com/json/' + url.host)
                      .then((response) => response.json())
                      .then((data) => {
                        map.src = 'https://embed.waze.com/iframe?zoom=12&lat=' + data.lat + '&lon=' + data.lon
                        document.getElementById('apiQuery').textContent = data.query
                        document.getElementById('apiStatus').textContent = data.status
                        document.getElementById('apiCountry').textContent = data.country
                        document.getElementById('apiCountryCode').textContent = '(' + data.countryCode + ')'
                        document.getElementById('apiRegion').textContent = data.region
                        document.getElementById('apiRegionName').textContent = data.regionName
                        document.getElementById('apiCity').textContent = data.city
                        document.getElementById('apiZip').textContent = data.zip
                        document.getElementById('apiLat').textContent = data.lat
                        document.getElementById('apiLon').textContent = data.lon
                        document.getElementById('apiTimezone').textContent = data.timezone
                        document.getElementById('apiIsp').textContent = data.isp
                        document.getElementById('apiOrg').textContent = data.org
                        document.getElementById('apiAs').textContent = data.as
                      });
                  </script>

                  <!-- Position End -->


                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h6 class="mb-4">Floating Label</h6>
                      <div class="form-floating mb-3">
                        <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
                        <label for="floatingInput">Email address</label>
                      </div>
                      <div class="form-floating mb-3">
                        <input type="password" class="form-control" id="floatingPassword" placeholder="Password">
                        <label for="floatingPassword">Password</label>
                      </div>
                      <div class="form-floating mb-3">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                          <option selected>Open this select menu</option>
                          <option value="1">One</option>
                          <option value="2">Two</option>
                          <option value="3">Three</option>
                        </select>
                        <label for="floatingSelect">Works with selects</label>
                      </div>
                      <div class="form-floating">
                        <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea"
                          style="height: 150px;"></textarea>
                        <label for="floatingTextarea">Comments</label>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h6 class="mb-4">File Input</h6>
                      <div class="mb-3">
                        <label for="formFile" class="form-label">Default file input example</label>
                        <input class="form-control bg-dark" type="file" id="formFile">
                      </div>
                      <div class="mb-3">
                        <label for="formFileMultiple" class="form-label">Multiple files input example</label>
                        <input class="form-control bg-dark" type="file" id="formFileMultiple" multiple>
                      </div>
                      <div class="mb-3">
                        <label for="formFileSm" class="form-label">Small file input example</label>
                        <input class="form-control form-control-sm bg-dark" id="formFileSm" type="file">
                      </div>
                      <div>
                        <label for="formFileLg" class="form-label">Large file input example</label>
                        <input class="form-control form-control-lg bg-dark" id="formFileLg" type="file">
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h6 class="mb-4">Select</h6>
                      <select class="form-select form-select-sm mb-3" aria-label=".form-select-sm example">
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                      </select>
                      <select class="form-select mb-3" aria-label="Default select example">
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                      </select>
                      <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                      </select>
                      <select class="form-select" multiple aria-label="multiple select example">
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h6 class="mb-4">Check, Radio & Switch</h6>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                          Default checkbox
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
                        <label class="form-check-label" for="flexCheckChecked">
                          Checked checkbox
                        </label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                        <label class="form-check-label" for="inlineCheckbox1">1</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                        <label class="form-check-label" for="inlineCheckbox2">2</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3" disabled>
                        <label class="form-check-label" for="inlineCheckbox3">3 (disabled)</label>
                      </div>
                      <hr>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                        <label class="form-check-label" for="flexRadioDefault1">
                          Default radio
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2"
                          checked>
                        <label class="form-check-label" for="flexRadioDefault2">
                          Default checked radio
                        </label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1"
                          value="option1">
                        <label class="form-check-label" for="inlineRadio1">1</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2"
                          value="option2">
                        <label class="form-check-label" for="inlineRadio2">2</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3"
                          value="option3" disabled>
                        <label class="form-check-label" for="inlineRadio3">3 (disabled)</label>
                      </div>
                      <hr>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Default switch checkbox
                          input</label>
                      </div>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked"
                          checked>
                        <label class="form-check-label" for="flexSwitchCheckChecked">Checked switch checkbox
                          input</label>
                      </div>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDisabled"
                          disabled>
                        <label class="form-check-label" for="flexSwitchCheckDisabled">Disabled switch checkbox
                          input</label>
                      </div>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch"
                          id="flexSwitchCheckCheckedDisabled" checked disabled>
                        <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">Disabled checked
                          switch checkbox input</label>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h6 class="mb-4">Input Group</h6>
                      <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon1">@</span>
                        <input type="text" class="form-control" placeholder="Username" aria-label="Username"
                          aria-describedby="basic-addon1">
                      </div>
                      <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Recipient's username"
                          aria-label="Recipient's username" aria-describedby="basic-addon2">
                        <span class="input-group-text" id="basic-addon2">@example.com</span>
                      </div>
                      <label for="basic-url" class="form-label">Your vanity URL</label>
                      <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon3">https://example.com/users/</span>
                        <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3">
                      </div>
                      <div class="input-group mb-3">
                        <span class="input-group-text">$</span>
                        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                        <span class="input-group-text">.00</span>
                      </div>
                      <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Username" aria-label="Username">
                        <span class="input-group-text">@</span>
                        <input type="text" class="form-control" placeholder="Server" aria-label="Server">
                      </div>
                      <div class="input-group">
                        <span class="input-group-text">With textarea</span>
                        <textarea class="form-control" aria-label="With textarea"></textarea>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-xl-6">
                    <div class="bg-secondary rounded h-100 p-4">
                      <h6 class="mb-4">Sizing</h6>
                      <input class="form-control form-control-lg mb-3" type="text" placeholder=".form-control-lg"
                        aria-label=".form-control-lg example">
                      <input class="form-control mb-3" type="text" placeholder="Default input"
                        aria-label="default input example">
                      <input class="form-control form-control-sm" type="text" placeholder=".form-control-sm"
                        aria-label=".form-control-sm example">
                    </div>
                  </div>
                </div>
              </div>
              <!-- Form End -->

              <script src="../../public/js/newrepWorkerHandler.js"></script>

            </form>

            <!-- Footer Start -->
            <%- include("../partials/footer.ejs") %>
              <!-- Footer End -->
        </div>
        <!-- Content End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
  </div>

  <!-- JavaScript Libraries -->
  <%- include("../partials/jslib.ejs") %>

    <!-- Template Javascript -->
    <%- include("../partials/template.ejs") %>
</body>

</html>