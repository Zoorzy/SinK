<!DOCTYPE html5>
<html lang="it-IT">

<head>
  <%- include("../partials/header.ejs") %>
    <link rel="stylesheet" href="../../public/css/newrep.css">
</head>

<body>
  <div class="container-fluid position-relative d-flex p-0">
    <!-- Spinner Start -->
    <%- include("../partials/spinner.ejs") %>
      <!-- Spinner End -->

      <!-- Sidebar Start -->
      <%- include("../partials/sidebar.ejs") %>
        <!-- Sidebar End -->

        <!-- Content Start -->
        <div class="content">
          <!-- Navbar Start -->
          <%- include("../partials/navbar.ejs") %>
            <!-- Navbar End -->

            <div class="container-fluid pt-4 px-4">
              <div class="row g-4">

                <h1 class="mb-4">Generate Report</h1>

                <!-- ProgressBar Start -->
                <div class="pg-bar mb-3">
                  <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-success scanProgressBar" role="progressbar"
                      aria-valuenow="" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
                <!-- ProgressBar Start -->

                <!-- URL Start -->
                <div class="col-sm-12 col-xl-6">
                  <div class="bg-secondary rounded h-100 p-4">
                    <div class="mb-3">
                      <label for="url" class="form-label">
                        <h2>URL</h2>
                      </label>
                      <input type="text" class="form-control" name="url" id="url" aria-describedby="url"
                        value="<%-url%>" readonly="readonly">
                      <div id="emailHelp" class="form-text">This is the target we are currently scanning
                      </div>
                    </div>
                  </div>
                </div>
                <!-- URL End -->

                <!-- TextArea Start -->
                <div class="col-sm-12 col-xl-6">
                  <div class="bg-secondary rounded h-100 p-4">
                    <label for="txthtml">
                      <h2 class="mb-4">HTML</h2>
                    </label>
                    <textarea name="html" id="txthtml" style="width: 100%" rows="10"></textarea>
                    <button type="button" class="btn btn-outline-info m-2" id="copyBtn" disabled><i
                        class="fa fa-copy"></i> Copy</button>
                    <button type="button" class="btn btn-outline-info m-2" id="downloadBtn" disabled><i
                        class="fa fa-download"></i> Download</button>
                    <button type="button" class="btn btn-outline-info m-2" id="viewBtn" disabled><i
                        class="fa fa-window-restore"></i> Open in new tab</button>
                  </div>
                </div>
                <!-- TextArea End -->

                <!-- Position Start -->
                <div class="col-sm-12 col-xl-6">
                  <div class="bg-secondary rounded h-100 p-4">

                    <h1 class="mb-4">IP-API</h1>
                    <!-- Description List Start -->
                    <dl class="row mb-0">
                      <dt class="col-sm-3">Query</dt>
                      <dd class="col-sm-9" id="apiQuery"></dd>

                      <dt class="col-sm-3">Status</dt>
                      <dd class="col-sm-9" id="apiStatus"></dd>

                      <dt class="col-sm-3">Country (CountryCode)</dt>
                      <dd class="col-sm-9">
                        <dl class="row">
                          <dt class="col-sm-4" id="apiCountry"></dt>
                          <dd class="col-sm-8" id="apiCountryCode"></dd>
                        </dl>
                      </dd>

                      <dt class="col-sm-3">Region</dt>
                      <dd class="col-sm-9" id="apiRegion"></dd>

                      <dt class="col-sm-3">Region Name</dt>
                      <dd class="col-sm-9" id="apiRegionName"></dd>

                      <dt class="col-sm-3">City</dt>
                      <dd class="col-sm-9" id="apiCity"></dd>

                      <dt class="col-sm-3">Zip</dt>
                      <dd class="col-sm-9" id="apiZip"></dd>

                      <dt class="col-sm-3">Lat</dt>
                      <dd class="col-sm-9" id="apiLat"></dd>

                      <dt class="col-sm-3">Lon</dt>
                      <dd class="col-sm-9" id="apiLon"></dd>

                      <dt class="col-sm-3">Timezone</dt>
                      <dd class="col-sm-9" id="apiTimezone"></dd>

                      <dt class="col-sm-3">ISP</dt>
                      <dd class="col-sm-9" id="apiIsp"></dd>

                      <dt class="col-sm-3">Org</dt>
                      <dd class="col-sm-9" id="apiOrg"></dd>

                      <dt class="col-sm-3">As</dt>
                      <dd class="col-sm-9" id="apiAs"></dd>
                    </dl>
                    <!-- Description List End -->

                  </div>
                </div>
                <!-- Position End -->

                <div class="col-sm-12 col-xl-6">
                  <div class="bg-secondary rounded h-100 p-4">
                    <h1 class="mb-4">Pattern analyzed</h1>
                    <dl class="row mb-0">
                      <dd class="col-sm-9">
                        <dl id="pattern-sinks">
                        </dl>
                      </dd>
                    </dl>
                  </div>
                </div>

                <div class="col-12">
                  <div class="bg-secondary rounded h-100 p-4">
                    <h1>Results</h1>
                    <div class="accordion accordion-flush" id="accordionFlushExample">
                    </div>
                  </div>
                </div>

                <div class="col-sm-12 col-xl-6">
                  <div class="m-n2">
                    <button type="button" class="btn btn-outline-warning m-2" id="newrepBtn" disabled onclick="window.location.href = '/reports.ejs';">Generating Report</button>
                  </div>
                </div>

                <script src="../../public/js/ipApi.js"></script>
                <script src="../../public/js/newrepHandler.js"></script>
                <script src="../../public/js/scanHTML.js"></script>
                <!-- Footer Start -->
                <%- include("../partials/footer.ejs") %>
                  <!-- Footer End -->
              </div>
            </div>
            <!-- Content End -->

            <!-- Back to Top -->
            <%- include("../partials/arrowup.ejs") %>
        </div>

        <!-- JavaScript Libraries -->
        <%- include("../partials/jslib.ejs") %>
          <!-- Template Javascript -->
          <%- include("../partials/template.ejs") %>

  </div>
</body>

</html>